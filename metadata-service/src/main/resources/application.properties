spring.application.name=metadata-service
server.port=8082

# ============================
# DATABASE CONFIG (MySQL on Railway - SAME as auth-service)
# ============================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.show-sql=true

# ============================
# REDIS CACHE (for metadata caching)
# ============================
spring.cache.type=redis
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD}


# ============================
# EUREKA (Same pattern as auth-service)
# ============================
eureka.client.service-url.defaultZone=http://cloudcrush-file-storage-platform.railway.internal:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.hostname=${HOSTNAME:metadata-service}
eureka.instance.prefer-ip-address=false

# ============================
# ACTUATOR
# ============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoints.web.base-path=/actuator

# ============================
# FILE UPLOAD
# ============================
spring.servlet.multipart.enabled=true

# ============================
# LOGGING
# ============================
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.springframework.cloud.openfeign=DEBUG
logging.level.feign=DEBUG
logging.level.root=INFO

# Disable default Spring Security
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration